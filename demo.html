<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScrollSenseHeader - Simple Demo</title>
    
    <!-- Load React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Load styles -->
    <link rel="stylesheet" href="./dist/styles.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            line-height: 1.6;
            color: #333;
        }

        .demo-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .demo-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .demo-header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .header-content {
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header-content h1 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
        }

        .header-content nav {
            display: flex;
            gap: 1rem;
        }

        .header-content nav a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .header-content nav a:hover {
            background: #f8f9fa;
        }

        .content-section {
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .content-section h2 {
            color: #495057;
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        .content-section p {
            color: #6c757d;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- Simple module loader -->
    <script>
        window.require = function(module) {
            if (module === 'react') return React;
            if (module === 'react/jsx-runtime') return React;
            if (module === './styles.css') return {};
            return {};
        };
        
        window.module = { exports: {} };
        window.exports = window.module.exports;
    </script>

    <!-- Load the component files -->
    <script src="./dist/ScrollSenseHeader.js"></script>
    <script src="./dist/index.js"></script>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;
        
        // Get the component from module exports
        const ScrollSenseHeader = window.module.exports.ScrollSenseHeader || window.module.exports.default;
        
        console.log('Module exports:', window.module.exports);
        console.log('ScrollSenseHeader:', ScrollSenseHeader);

        function SimpleDemo() {
            const headerRef = useRef();
            const [scrollY, setScrollY] = useState(0);

            // Track scroll position
            useEffect(() => {
                const handleScroll = () => {
                    setScrollY(window.scrollY);
                };
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            if (!ScrollSenseHeader) {
                return (
                    <div style={{ padding: '2rem', textAlign: 'center', background: '#ffebee', color: '#c62828', border: '2px solid #c62828', margin: '2rem', borderRadius: '8px' }}>
                        <h2>ScrollSenseHeader Not Found</h2>
                        <p>The component failed to load. Please check the console for errors.</p>
                        <p>Module exports: {JSON.stringify(window.module.exports)}</p>
                    </div>
                );
            }

            return (
                <div>
                    <div className="demo-header">
                        <h1>ScrollSenseHeader</h1>
                        <p>Simple Demo - Scroll down to see the header behavior!</p>
                    </div>

                    <ScrollSenseHeader
                        ref={headerRef}
                        behavior="hide-on-scroll"
                        hideThreshold={100}
                        showThreshold={5}
                        boxShadow="light"
                        transitionDuration={300}
                        zIndex={1000}
                        backgroundColor="#ffffff"
                    >
                        <div className="header-content">
                            <h1>ScrollSenseHeader Demo</h1>
                            <nav>
                                <a href="#home">Home</a>
                                <a href="#about">About</a>
                                <a href="#contact">Contact</a>
                                <a href="#docs">Docs</a>
                            </nav>
                        </div>
                    </ScrollSenseHeader>

                    <div className="content-section">
                        <h2>ScrollSenseHeader Demo</h2>
                        <p>
                            This is a simple demo of the ScrollSenseHeader component. 
                            Scroll down to see the header become sticky and then hide.
                            Scroll back up to see it reappear.
                        </p>

                        <div style={{
                            margin: '2rem 0',
                            padding: '2rem',
                            backgroundColor: '#f8f9fa',
                            borderRadius: '8px',
                            border: '1px solid #e0e0e0',
                            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
                        }}>
                            <h3 style={{ color: '#495057', marginBottom: '1rem' }}>Current Scroll Position: {scrollY}px</h3>
                            <p style={{ color: '#6c757d', lineHeight: '1.6' }}>
                                The header will become sticky when you scroll down 100px, 
                                and will hide when you continue scrolling down.
                            </p>
                        </div>
                    </div>

                    {/* Generate content for scrolling */}
                    {Array.from({ length: 15 }, (_, i) => (
                        <div key={i} style={{
                            margin: '2rem',
                            padding: '2rem',
                            backgroundColor: i % 2 === 0 ? '#f8f9fa' : '#ffffff',
                            borderRadius: '8px',
                            border: '1px solid #e0e0e0',
                            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
                        }}>
                            <h3 style={{ color: '#495057', marginBottom: '1rem' }}>Demo Section {i + 1}</h3>
                            <p style={{ color: '#6c757d', lineHeight: '1.6', marginBottom: '1rem' }}>
                                This is demo content for section {i + 1}. Scroll through these sections to test 
                                the ScrollSenseHeader functionality.
                            </p>
                            <p style={{ color: '#6c757d', lineHeight: '1.6' }}>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod 
                                tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, 
                                quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                                Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore 
                                eu fugiat nulla pariatur.
                            </p>
                        </div>
                    ))}

                    <div style={{
                        textAlign: 'center',
                        padding: '3rem 2rem',
                        backgroundColor: '#d4edda',
                        borderRadius: '8px',
                        margin: '2rem',
                        border: '1px solid #c3e6cb'
                    }}>
                        <h3 style={{ color: '#155724', marginBottom: '1rem' }}>Demo Complete!</h3>
                        <p style={{ color: '#155724', fontSize: '1.1rem' }}>
                            You've seen the ScrollSenseHeader in action! 
                            Check out the <a href="https://github.com/antonio99x/react-scroll-sense-header" style={{ color: '#155724', fontWeight: 'bold' }}>GitHub repository</a> for more information.
                        </p>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SimpleDemo />);
    </script>
</body>
</html>